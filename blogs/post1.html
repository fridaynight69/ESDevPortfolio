<!-- blogs/post1.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/png" href="./images/favicon.png" />
  
    <!-- Put your site title here -->
    <title>
      Nam Nguyen Hoang | Controller Area Network (CAN).
    </title>
  
    <meta name="description" content="Controller Area Network (CAN).">
    <!-- Add some coding keywords below, Ex: (React, CSS etc) -->
    <meta name="keywords" content="CAN" />
    <link rel="stylesheet" href="./blog.css" />

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

</head>

<body>

  <!-- ***** Header ***** -->

  <header class="header" role="banner" id="top">
    <div class="header__text-box row">
      <div class="header__text">
        <h1 class="heading-primary">
          <span>Controller Area Network (CAN)</span>
        </h1>
        <p>Nam Nguyen Hoang.</p>
        <a href="../index.html" class="btn">Back to Portfolio</a>
      </div>
    </div>
  </header>

  <div id="content"></div>
  
  <script>
    // The Markdown content
    const markdown = `
  ## 1. Overview
  ![CAN bus (consisting of two wires, CAN low and CAN high)](./images/intro.png)  

  The CAN bus system enables each ECU to communicate with all other ECUs - without complex dedicated wiring.
  
  ## 2. Can frames
  ### 2.1. Standard CAN frame
  The Standard CAN frame with 11 bits identifier (CAN 2.0A) is the type used in most cars.
  ![Standard CAN frame](./images/std_can_frame.png)  

  - **SOF**: The Start of Frame is a 'dominant 0' to tell the other nodes that a CAN node intends to talk  
  - **ID**: The ID is the frame identifier - lower values have higher priority  
  - **RTR**: The Remote Transmission Request indicates whether a node sends data or requests dedicated data from another node  
  - **Control**: The Control contains the Identifier Extension Bit (IDE) which is a 'dominant 0' for 11-bit. It also 
  contains the 4 bit Data Length Code (DLC) that specifies the length of the data bytes to be transmitted (0 to 8 bytes)  
  - **Data**: The Data contains the data bytes aka payload, which includes CAN signals that can be extracted and decoded for information  
  - **CRC**: The Cyclic Redundancy Check is used to ensure data integrity  
  - **ACK**: The ACK slot indicates if the node has acknowledged and received the data correctly  
  - **EOF**: The EOF marks the end of the CAN frame  

  ## 3. References
  - [CAN Bus - The Ultimate Guide](https://www.csselectronics.com/pages/can-bus-ultimate-guide)
  - [Document Title Specification of CAN Driver](https://www.autosar.org/fileadmin/standards/R22-11/CP/AUTOSAR_SWS_CANDriver.pdf)
  
  ---
  
  > "The best time to plant a tree was 20 years ago. The second best time is now."
  `;
  
    // Convert Markdown to HTML
    document.getElementById('content').innerHTML = marked.parse(markdown);
  </script>
  
</body>
</html>